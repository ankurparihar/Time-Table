const timetable__data={navID:"nav-projects",page_loc_text:"Live Demo",template:'\n\t<div id="demo_page" class="demo-page page">\n\t\t<div class="demo_page-head flex">\n\t\t\t<div class="demo_page-back btn" title="Back to all projects">\n\t\t\t\t<svg style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="currentColor" d="M21,11H6.83L10.41,7.41L9,6L3,12L9,18L10.41,16.58L6.83,13H21V11Z"/></svg>\n\t\t\t</div>\n\t\t\t<div class="demo_page-title">Time-Table Generator</div>\n\t\t\t<div class="demo_page-info btn" title="Info">\n\t\t\t\t<svg style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="currentColor" d="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z"/></svg>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="demo_page-body">\n\t\t\t<div class="demo_page-cont">\n\t\t\t\t<div id="timetable_holder">\n\t\t\t\t\t<h2>Department of Computer Science &amp; Engineering</h2>\n\t\t\t\t\t<h3>Indian Institute of Technology Roorkee</h3>\n\t\t\t\t\t<h3>Autumn 2019 - 2020</h3>\n\t\t\t\t\t<h4>Time Table of B.Tech IV year</h4>\n\t\t\t\t\t<table id="timetable" class="noselect"></table>\n\t\t\t\t</div>\n\t\t\t\t<div id="timetable_options">\n\t\t\t\t\t<p id="desc">No cell selected</p>\n\t\t\t\t\t<div id="options" class="flex wrap"></div>\n\t\t\t\t\t<div id="copy_paste">\n\t\t\t\t\t\t<button class="btn" aria-label="copy cells" id="button_copy">Copy cells</button>\n\t\t\t\t\t\t<button class="btn" aria-label="paste cells" id="button_paste">Paste cells</button>\n\t\t\t\t\t\t<button class="btn" aria-label="clear cells" id="button_clear">Clear cells</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id="cell_select_flip">\n\t\t\t\t\t\t<button class="btn" aria-label="enable multi select" id="button_flip_select">Enable multi-select</button>\n\t\t\t\t\t\t<button class="btn" aria-label="deselect all cells" id="button_deselect">Deselect all cells</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div id="timetable_manual">\n\t\t\t\t\t<p id="title" class="highlight">Instructions and Features</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>If you\'re on mobile device, rotate to landscape</li>\n\t\t\t\t\t\t<li>Select single cells by clicking</li>\n\t\t\t\t\t\t<li>If selected cells are of same type (<span class="highlight">data</span> or <span class="highlight">header</span>), then options are displayed</li>\n\t\t\t\t\t\t<li>Select/Deselect multiple cells by <code style="color:#cfbf2f">button</code> or by holding <code>ctrl-key</code></li>\n\t\t\t\t\t\t<li>Deselect all cells by <code style="color:#cf7814">button</code></li>\n\t\t\t\t\t\t<li>Copy cells by <code style="color:#4caf50">button</code> or <code>ctrl+c</code></li>\n\t\t\t\t\t\t<li>Paste cells by <code style="color:#4c9baf">button</code> or <code>ctrl+v</code></li>\n\t\t\t\t\t\t<li>Clear cells by <code style="color:#cf3a2f">button</code> or <code>delete</code></li>\n\t\t\t\t\t\t<li>Copy, Paste and Clear works with <span class="highlight">data</span> cells only</li>\n\t\t\t\t\t\t<li>Merge cells row-wise or column-wise, called <span class="highlight">spanning</span> (from script only)</li>\n\t\t\t\t\t\t<li>Table is configured using <span class="highlight"><code>timetable__data</code></span> in <a class="highlight" href="https://github.com/ankurparihar/Time-Table/blob/github.io-dev/script.js">script.js</a></li>\n\t\t\t\t\t\t<li>Right now screenshot is the only way to save table</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t',apply:(e,t)=>{void 0!==e?(e.innerHTML=timetable__data.template,timetable__data.displayTable(),timetable__data.onStaticLoad(e,t)):console.warn("Error: contentRoot not specified")},onStaticLoad:(e,t)=>{if(void 0===e)return void console.warn("Error: contentRoot not specified");const l=e.querySelector(".demo_page-back"),a=e.querySelector(".demo_page-info");l.addEventListener("click",e=>{e.ctrlKey?window.open(t.protocol+"://"+t.domain+"/projects"):spa.navigate(t.protocol+"://"+t.domain+"/projects"),e.preventDefault()}),a.addEventListener("click",()=>{showDialog('<div class="card" style="height:auto"><div class="card__title headline">About Time-Table Generator</div><div class="card__text">This is a fun project I created in spare time. Time-Table generator creates time-tables with options like copy-paste, spanning etc.</div><div class="card__actions"><div class="spacer"></div><a target="_blank" rel="noopener" href="https://github.com/ankurparihar/Time-Table" class="btn btn--flat green--text text--darken-1"><div class="btn__content">View on Github</div></a></div></div>')});const c=document.getElementById("button_copy"),i=document.getElementById("button_paste"),s=document.getElementById("button_clear"),d=document.getElementById("button_flip_select"),n=document.getElementById("button_deselect");c.addEventListener("click",timetable__data.copyCells),i.addEventListener("click",timetable__data.pasteCells),s.addEventListener("click",timetable__data.clearCells),n.addEventListener("click",timetable__data.deselectCells),d.addEventListener("click",()=>{timetable__data.batchMode?(timetable__data.batchMode=!1,d.innerHTML="Enable multi-select"):(timetable__data.batchMode=!0,d.innerHTML="Disable multi-select")}),document.getElementById("timetable").querySelectorAll("th,td").forEach(e=>{e.addEventListener("click",t=>{timetable__data.handleClick(e,t)})}),document.addEventListener("keydown",e=>{switch(e.keyCode){case 67:e.ctrlKey&&timetable__data.copyCells();break;case 86:e.ctrlKey&&timetable__data.pasteCells();break;case 46:timetable__data.clearCells()}})},batchMode:!1,selectedCells:[],copiedCells:[],selectedCellType:{head:0,data:0},table_top:["Time/Day","Monday","Tuesday","Wednesday","Thursday","Friday"],table_left:["Time/Day","08:00 - 08:55","09:00 - 09:55","10:00 - 10:55","11:05 - 12:00","12:05 - 01:00","01:00 - 02:00","02:00 - 02:55","03:00 - 03:55","04:05 - 05:00","05:05 - 06:00"],selects:{subj:["[CSN-501]","[CSN-502]","[CSN-503]","[CSN-517]","[CSN-499]"],prof:["SG","MM","DT","SK","PPR","RT","PPR + RT"],btch:["B.Tech IV","M.Tech I","B.Tech IV CS1","B.Tech IV CS2","B.Tech IV + M.Tech I"],vnue:["LHC-206","W-201","W-202","S-310","S-301"]},attrs:["subj","prof","btch","vnue"],data_cells:[[],[[],[,,,],[1,1,4,0],[2,2,4,4],[,,,],[3,3,4,0],[,,,],[,,,],[4,6,2,3],[,,,],[,,,]],[[],[,,,],[1,1,4,0],[0,0,4,0],[,,,],[3,3,4,0],[,,,],[,,,],[,,,],[,,,],[,,,]],[[],[,,,],[,,,],[2,2,4,4],[,,,],[,,,],[,,,],[1,1,0,2],[1,1,1,2],[,,,],[,,,]],[[],[,,,],[1,1,4,0],[0,0,4,0],[2,2,4,4],[3,3,4,0],[,,,],[4,6,3,3],[,,,],[3,3,1,1],[3,3,0,1]],[[],[,,,],[,,,],[0,0,4,0],[,,,],[,,,],[,,,],[0,0,0,1],[0,0,1,1],[,,,],[,,,],[,,,]]],customInnerHTML:[{cell:[6,1],data:"<b>Lunch</b>"}],span:[{row:[6,1],col:[1,5]},{row:[8,2],col:[1,1]},{row:[7,2],col:[4,1]}],processSelectedCells:()=>{const e=document.getElementById("desc"),t=document.getElementById("options");if(0==timetable__data.selectedCells.length)return e.innerHTML="No cell selected",void(t.innerHTML="");if(0==timetable__data.selectedCellType.head)for(var l in 1==timetable__data.selectedCells.length?e.innerHTML="data cell selected":e.innerHTML="data cells selected",t.innerHTML="",timetable__data.selects){const e=document.createElement("div"),a=document.createElement("p");a.innerHTML=l,e.appendChild(a);const c=document.createElement("select");c.setAttribute("data-class","data-"+l),timetable__data.selects[l].forEach(e=>{const t=document.createElement("option");t.value=e,t.innerHTML=e,c.appendChild(t)}),c.oninput=(()=>{timetable__data.selectedCells.forEach(e=>{e.querySelector("p["+c.getAttribute("data-class")+"]").innerHTML=c.value})}),t.appendChild(c),c.value=1==timetable__data.selectedCells.length?timetable__data.selectedCells[0].querySelector("p[data-"+l).innerHTML:""}else if(0==timetable__data.selectedCellType.data){1==timetable__data.selectedCells.length?e.innerHTML="head cell selected":e.innerHTML="head cells selected";const l=document.createElement("input");l.type="text",l.tabIndex=0,l.value=timetable__data.selectedCells[0].innerHTML,l.oninput=(()=>{timetable__data.selectedCells.forEach(e=>{e.innerHTML=l.value})}),t.appendChild(l)}else e.innerHTML="Mixed cells selected",t.innerHTML=""},handleClick:(e,t)=>{if(t.ctrlKey||timetable__data.batchMode)if(timetable__data.selectedCells.indexOf(e)>=0){var l=[];timetable__data.selectedCells.forEach(t=>{t!=e&&l.push(t)}),timetable__data.selectedCells=l,e.classList.remove("active"),e.classList.contains("r0")||e.classList.contains("c0")?timetable__data.selectedCellType.head--:timetable__data.selectedCellType.data--}else timetable__data.selectedCells.push(e),e.classList.add("active"),e.classList.contains("r0")||e.classList.contains("c0")?timetable__data.selectedCellType.head++:timetable__data.selectedCellType.data++;else timetable__data.deselectCells(),timetable__data.selectedCells.push(e),e.classList.add("active"),e.classList.contains("r0")||e.classList.contains("c0")?timetable__data.selectedCellType.head++:timetable__data.selectedCellType.data++;timetable__data.processSelectedCells()},displayTable:()=>{const e=document.getElementById("timetable");e.innerHTML="";const t=timetable__data.table_left.length,l=timetable__data.table_top.length;for(var a=document.createElement("tr"),c=0;c<l;++c){var i=document.createElement("th");i.setAttribute("class","r0 c"+c),a.appendChild(i)}e.appendChild(a);for(c=1;c<t;++c){a=document.createElement("tr");for(var s=0;s<l;++s){var d=document.createElement("td");d.setAttribute("class","r"+c+" c"+s),a.appendChild(d)}e.appendChild(a)}e.querySelectorAll(".r0, .c0").forEach(e=>{e.setAttribute("data-ij","")}),timetable__data.span.forEach(t=>{const l=t.row[0],a=t.col[0],c=t.row[1],i=t.col[1],s=e.querySelector(".r"+l+".c"+a);for(var d=1;d<c;++d){(o=e.querySelector(".r"+(l+d)+".c"+a)).parentElement.removeChild(o)}for(var n=1;n<i;++n){var o;(o=e.querySelector(".r"+l+".c"+(a+n))).parentElement.removeChild(o)}s.setAttribute("rowSpan",c),s.setAttribute("colSpan",i)}),timetable__data.fillTableData()},fillTableData:()=>{const e=document.getElementById("timetable"),t=timetable__data.table_left.length,l=timetable__data.table_top.length;var a,c,i,s,d,n;for(c=0;c<l;++c)(d=e.querySelector(".r0.c"+c)).innerHTML=timetable__data.table_top[c];for(a=1;a<t;++a)(d=e.querySelector(".c0.r"+a)).innerHTML=timetable__data.table_left[a];for(a=1;a<t;++a)for(c=1;c<l;++c)(d=e.querySelector(".r"+a+".c"+c))&&(s=timetable__data.data_cells[c][a],timetable__data.attrs.forEach((e,t)=>{(i=d.querySelector("p[data-"+e+"]"))||(i=document.createElement("p")).setAttribute("data-"+e,""),n=s[t],Number.isInteger(n)&&(i.innerHTML=timetable__data.selects[e][n]),d.appendChild(i)}));timetable__data.customInnerHTML.forEach(t=>{(d=e.querySelector(".r"+t.cell[0]+".c"+t.cell[1])).innerHTML=t.data})},copyCells:()=>{timetable__data.selectedCellType.head>0||(timetable__data.copiedCells=[],timetable__data.selectedCells.forEach(e=>{timetable__data.copiedCells.push(e)}))},pasteCells:()=>{if(!(timetable__data.selectedCellType.head>0)){var e=0,t=timetable__data.copiedCells.length;timetable__data.selectedCells.forEach(l=>{l.innerHTML=timetable__data.copiedCells[e%t].innerHTML,e++}),timetable__data.processSelectedCells()}},clearCells:()=>{timetable__data.selectedCellType.head>0||(timetable__data.selectedCells.forEach(e=>{e.innerHTML=""}),timetable__data.processSelectedCells())},deselectCells:()=>{timetable__data.selectedCells.forEach(e=>{e.classList.remove("active")}),timetable__data.selectedCells=[],timetable__data.selectedCellType.head=0,timetable__data.selectedCellType.data=0,timetable__data.processSelectedCells()}};spa.register("/projects/time-table",timetable__data);